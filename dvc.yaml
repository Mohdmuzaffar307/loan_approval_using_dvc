stages:
  data_ingestion:
    cmd: python src\data\data_ingestion.py
    deps:
    - src\data\data_ingestion.py
    outs:
    - data\raw\raw_data.csv
  data_preprocessing:
    cmd: python src\data_preprocessing\data_preprocessing.py
    deps:
    - data\raw\raw_data.csv
    - src\data_preprocessing\data_preprocessing.py
    params:
    - data_preprocessing.test_size
    outs:
    - data\processed\x_test.csv
    - data\processed\x_train.csv
  feature_engineering:
    cmd: python src\features\feature_engineering.py
    deps:
    - data\processed\x_test.csv
    - data\processed\x_train.csv
    - src\features\feature_engineering.py
    outs:
    - data\interim\x_test_final.csv
    - data\interim\x_train_final.csv
  model_building:
    cmd: python src\models\model_building.py
    deps:
    - data\interim\x_test_final.csv
    - data\interim\x_train_final.csv
    - src\models\model_building.py
    params:
    - model_building.n_estimator
    outs:
    - artifacts\model\random_forest.joblib
  model_eval:
    cmd: python src\models\model_eval.py
    deps:
    - artifacts\model\random_forest.joblib
    - src\models\model_eval.py
    metrics:
    - artifacts\model\metrics
metrics:
- dvclive/metrics.json
plots:
- dvclive/plots/metrics:
    x: step
